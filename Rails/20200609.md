スキルアップ課題

ER図について

多重度（カーディナリティ）
１：１　の時　一つのエンティティにまとめる

１：多　の時　多のほうは親を参照する外部キーを持つ必要がある

多：多　の時　外部キーの値が複数個になる。
　　　　　　　だから中間テーブルを設けて1:多に直す。
       
決めること
①アプリケーションの登場人物は何か

②登場人物はどんなデータを持つか

　ユーザ：ユーザ名・パスワード・メールアドレス
　todoリスト：タイトル・期日・カテゴリ・完了したかどうか
　サブタスク：内容・完了したか

③登場人物同士の関係（正規化）

　・重複（1つの属性に2個以上のデータが格納されていること）
　　誰かを探したい時
　　まず、idでどのテーブルにいるかを探す。
　　次にそのテーブル内でその人を探す。（この作業を省きたい）
　　→別のテーブルに分ける。
　　　分けられたほうはidを付与され、どこに属していたかわかるようにする
　　　このようなidを外部キーという

　・外部キーを使って値の参照を可能にする。
　　分けられたほうのデータを更新で来ても親のデータが更新されない
　　かもしれない


　・マスター項目
　　同じ値が繰り返し存在する。一つの項目を更新したい時、ほかのデータも一緒に更新したい。
　　→別のマスターを作る。
　　マスター項目用のレコードだけを更新すればよい。

※テーブルを作る基準はそのテーブルのレコードが増減するか否か。
　　データが増減しない場合はテーブルを分割する必要はない。
　　ただ文字列のままだと更新が大変だから数字に直して保存する方法あり。
　　→　enum(列挙型）

　・算出属性
　　
  
一般的な正規化
・第一正規化
一つのエンティティに中にただ一つの値を持つ状態にすること。
1つの属性に複数の値が入ることを回避すること。
テーブルを分割する作業という覚え方ではだめ。

なぜ第一正規化するの？
各属性を一意に特定するため。

第二正規化
複合主キーの一部に従属する状態（部分関数従属）を別テーブルに分離すること。
別テーブルに分離する。

第三正規化
FK（外部キー）に従属するテーブルを別テーブルに分離すること
　主キー　→　外部キー　→　属性
